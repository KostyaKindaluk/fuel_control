{% extends 'base.html' %}
{% block title %}Routes{% endblock %}
{% block content %}
<div class="card">
	<div class="card-body">
		<div class="d-flex justify-content-between align-items-center mb-3">
			<p class="card-title display-5 mb-0">Routes</p>
			{% if type == 'manager' %}
				<a href="{% url 'route_create' %}" class="btn btn-success">Create</a>
			{% endif %}
		</div>
		<table class="table">
			<thead>
				<tr>
					<th>Start point</th>
					<th>End point</th>
					<th>Distance</th>
					{% if type == 'manager' %}
						<th>Actions</th>
					{% endif %}
				</tr>
			</thead>
			<tbody>
				{% for route in routes %}
					<tr class="align-middle">
						<td>{{ route.start_point }}</td>
						<td>{{ route.end_point }}</td>
						<td>{{ route.distance }}</td>
						{% if type == 'manager' %}
							<td>
								<div class="dropdown">
									<button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
										More
									</button>
									<ul class="dropdown-menu">
										<li><a class="dropdown-item" href="{% url 'route_edit' route.id %}">Edit</a></li>
										<li><a class="dropdown-item" href="{% url 'route_delete' route.id %}">Delete</a></li>
									</ul>
								</div>
							</td>
						{% endif %}
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}